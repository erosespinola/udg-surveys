<div class="container">
    <div class="row">
        <div class="col-md-12">


            <div class=" secondary-navbar clearfix">
                <button type="button" class="btn btn-primary pull-right" ng-click="clearUser()" data-toggle="modal" data-target="#user-modal" data-backdrop="static">Crear usuario</button>
            </div>


            <ul class="nav nav-tabs nav-justified">
                <li role="presentation" class="active"><a href="" style="font-size: x-large;"><b>Usuarios</b></a></li>
            </ul>
            <table class="table table-hover">
                <tr>
                    <th>Usuario</th>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Rol</th>
                    <th>Acciones</th>
                </tr>
                <tr ng-repeat="user in users">
                    <td>{{ user.user }}</td>
                    <td>{{ user.firstName }}</td>
                    <td>{{ user.lastName }}</td>
                    <td>{{ getRole(user.role) }}</td>
                    <td>
                        <div class="actions-container">
                            <span data-toggle="modal" data-target="#user-modal-detail" data-backdrop="static">
                                <span class="fa fa-pencil fa-1-5x" ng-click="populateUser(user)" data-placement="top" title="Editar" data-toggle="modal" data-target="#user-modal-edit" data-backdrop="static"></span>
                            </span>
                            <span class="fa fa-trash fa-1-5x" ng-click="deleteUser(user.id)" data-toggle="tooltip" data-placement="top" title="Eliminar"></span>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>


<div class="modal fade" id="user-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">AÃ±adir usuario</h4>
            </div>
            <div class="modal-body">

                <form>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" class="form-control" ng-model="user.user">
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Rol</label>
                            <select id="user-role" class="form-control" ng-model="user.role" ng-options="role.value as (role.label) for role in roles">
                                <option>- Tipo de rol -</option>>
                            </select>
                        </div>
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Nombre</label>
                            <input type="text" class="form-control" ng-model="user.firstName">
                        </div>
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Apellidos</label>
                            <input type="text" class="form-control" ng-model="user.lastName">
                        </div>
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" class="form-control" ng-model="user.password">
                        </div>
                    </div>

                </form>
            
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <a type="button" class="btn btn-primary pull-right" ng-click="createUser()" data-dismiss="modal">Guardar</a>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="user-modal-edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Editar usuario</h4>
            </div>
            <div class="modal-body">

                <form>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" class="form-control" ng-model="userEdit.user">
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Rol</label>
                            <select id="user-role" class="form-control" ng-model="userEdit.role" ng-options="role.value as (role.label) for role in roles">
                                <option>- Tipo de rol -</option>>
                            </select>
                        </div>
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Nombre</label>
                            <input type="text" class="form-control" ng-model="userEdit.firstName">
                        </div>
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Apellidos</label>
                            <input type="text" class="form-control" ng-model="userEdit.lastName">
                        </div>
                    </div>
                    <div class="one-input-container">
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" class="form-control" ng-model="userEdit.password">
                        </div>
                    </div>

                </form>
            
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <a type="button" class="btn btn-primary pull-right" ng-click="updateUser()" data-dismiss="modal">Actualizar</a>
            </div>
        </div>
    </div>
</div>